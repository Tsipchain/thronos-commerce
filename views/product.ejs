<!DOCTYPE html>
<html lang="el">
  <head>
    <meta charset="UTF-8" />
    <title><%= product.name %> – <%= config.storeName %></title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="/styles.css" />
    <style>
      :root {
        --primary-color: <%= config.primaryColor %>;
        --accent-color: <%= config.accentColor %>;
        --font-family: <%= config.fontFamily %>;
        --menu-bg: <%= (config.theme && config.theme.menuBg) || '#111' %>;
        --menu-text: <%= (config.theme && config.theme.menuText) || '#fff' %>;
        --menu-active-bg: <%= (config.theme && config.theme.menuActiveBg) || '#f06292' %>;
        --menu-active-text: <%= (config.theme && config.theme.menuActiveText) || '#fff' %>;
        --button-radius: <%= (config.theme && config.theme.buttonRadius) || '4px' %>;
      }
    </style>
  </head>
  <body>
    <header>
      <div class="logo-title">
        <% if (config.logoPath) { %>
          <img src="<%= config.logoPath %>" alt="<%= config.storeName %>" class="logo" />
        <% } %>
        <h1><%= config.storeName %></h1>
      </div>
    </header>

    <main>
      <article class="product-detail">
        <% if (product.imageUrl) { %>
          <div class="product-hero-image">
            <img src="<%= product.imageUrl %>" alt="<%= product.name %>" />
          </div>
        <% } %>

        <h2><%= product.name %></h2>
        <p><%= product.description %></p>
        <p class="price"><%= Number(product.price).toFixed(2) %> €</p>

        <form action="/checkout" method="POST" class="checkout-form">
          <input type="hidden" name="productId" value="<%= product.id %>" />

          <label>
            Ονοματεπώνυμο
            <input type="text" name="name" required />
          </label>

          <label>
            Email
            <input type="email" name="email" required />
          </label>

          <label>
            Web3 Wallet (προαιρετικό)
            <input type="text" name="wallet" placeholder="0x..." />
          </label>

          <label>
            Τρόπος αποστολής
            <select name="shippingMethodId" required>
              <% config.shippingOptions.forEach(function (opt) { %>
                <option value="<%= opt.id %>"><%= opt.label %></option>
              <% }); %>
            </select>
          </label>

          <label>
            Τρόπος πληρωμής
            <select name="paymentMethodId" required>
              <% config.paymentOptions.forEach(function (opt) { %>
                <option value="<%= opt.id %>"><%= opt.label %></option>
              <% }); %>
            </select>
          </label>

          <label>
            Σημειώσεις
            <textarea name="notes" rows="3"></textarea>
          </label>

          <button type="submit" class="button">Ολοκλήρωση παραγγελίας</button>
        </form>
      </article>
    </main>
  </body>
</html>
